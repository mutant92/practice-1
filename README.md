# Практическая работа №1. «Делимся проектом с миром»
---
## GIT и BASH - что мы о этом узнали узнали.

__Установка GIT__  
На macOS или Linux Bash уже встроен.   
На Windows нужно установить дополнительно. Скачать можно с [официального сайта GIT](https://git-scm.com/download/win)  
При установке проверь, что в списке устанавливаемых программ стоит галочка напротив пункта Git Bash Here — это позволит открывать консоль с Git в любой папке.

__Полезные команды BASH:__  
pwd - Она выводит путь к текущей директории.  
cd - сменить директорию  
Символ ~ обозначает домашнюю директорию.  
ls - отобразить содержимое директории.  
ls -a отобразить содержимое директории со скрытыми значениями   
touch - создать файл  
mkdir - создать папку  
Можно создать целую структуру директорий одной командой с помощью флага -p.  
*Пример:*  
```
$ mkdir -p dir1/dir-inside/dir-deeper-inside
# создали папку dir-deeper-inside в папке dir-inside, которая находится в папке dir1 
```
cp - Копирование файлов.
*Пример:*
```
$ cp что_копируем что_копируем что_копируем куда_копируем

$ cp index.html style.css script.js src/
# скопировали три файла (index.html, style.css и script.js) в папку src
``` 

mv - Перемещение файлов и папок. Работает аналогично CP  
cat - чтение файлов. Команда cat работает только с текстовыми файлами. Вывести этой командой файл другого типа (например, изображение) не получится.  
Удаление файлов и папок — rm, rmdir, rm -r
&& - Выполняйте сразу несколько команд  
*Пример:*
```
$ mkdir second-project && cd second-project && touch index.html style.css
создаём папку second-project,
переходим в папку second-project
и создаём в ней два файла: index.html и style.css 
```

__Настройка GIT__  
Вы можете указать любую электронную почту и любое имя. Сделать это можно с помощью команды git config (от англ. configuration — «конфигурация», «настройка») с ключом --global (англ. «глобальный»). При этом не имеет значения, в какой директории вы находитесь прямо сейчас: вызов git config --global сработает везде.  
В качестве значения user.name нужно указать своё имя или никнейм. Для настройки параметра user.email указывают электронную почту.

__Работа с GIT:__  
Чтобы Git начал отслеживать изменения в проекте, папку с файлами этого проекта нужно сделать Git-репозиторием (от англ. repository — «хранилище»). Для этого следует переместиться в неё и ввести команду git init

Если вы случайно сделали Git-репозиторием не ту папку, её можно «разгитить». Для этого нужно удалить скрытую подпапку .git
```
$ cd <папка с репозиторием> # перешли в папку

$ rm -rf .git # удалили подпапку .git 
Разберём подробнее, что такое -rf:
ключ -r (от англ. recursive — «рекурсивно») позволяет удалять папки вместе с их содержимым;
ключ -f (от англ. force — «заставить») избавит вас от вопросов вроде «Вы точно хотите удалить этот файл? А этот? И этот тоже?».
```

*Команды GIT:*
* git status - проверить состояние Репозитория.<br>
* Команда git add позволяет подготовить файл к сохранению.  
* Команда git add --all подготовит к сохранению сразу все файлы.  
* С помощью git add . можно добавить в репозиторий текущую папку со всеми файлами.  
* Коммит можно сделать с помощью команды git commit.  
* Ключ -m позволяет присвоить коммиту сообщение. Помните, что такие сообщения должны быть информативными: чётко описывать изменения.  
* Просмотреть историю коммитов — git log

## Навигация по коммитам

__Хеш — идентификатор коммита__  
* Git преобразует информацию о коммитах с помощью алгоритма SHA-1 и для каждого из них рассчитывает уникальный идентификатор — хеш.
* Хеш — основной идентификатор коммита и позволяет узнать его автора, дату и содержимое закоммиченных файлов.
* Все хеши, а также таблицу соответствий хеш → информация о коммите Git хранит в папке .git .

__Исследуем лог__  
* Получить лог: git log
* Можно вызвать не только полный лог, но и сокращённый — это делается командой git log --oneline.
* В сокращённом логе выводятся сокращённые хеши — их можно использовать точно так же, как и полные.

__HEAD — всему голова__  
Файл HEAD (англ. «голова», «головной») — один из служебных файлов папки .git. Он указывает на коммит, который сделан последним (то есть на самый новый).
* В числе прочих файлов в папке .git есть служебный файл HEAD. Он указывает на самый свежий коммит.
* Вместо хеша последнего коммита можно написать слово HEAD — Git вас поймёт.

## Работа над ошибками в коммитах

__Как исправить коммит__  
* --amend рассчитан на работу с последним коммитом (HEAD).
* Дополнить коммит новыми файлами можно с помощью git commit --amend --no-edit. Благодаря опции --no-edit сообщение к коммиту останется таким, каким и было.
* Изменить сообщение к коммиту позволяет команда git commit --amend -m "Обновлённое сообщение коммита".

__Как откатиться назад, если «всё сломалось»__  
Выполнить unstage изменений — git restore --staged <file >
Допустим, вы создали или изменили какой-то файл и добавили его в список «на коммит» (staging area) с помощью git add, но потом передумали включать его туда. Убрать файл из staging поможет команда git restore --staged <file> (от англ. restore — «восстановить»).
*В терминале это будет выглядеть примерно так.*
```
$ touch example.txt # создали ненужный файл
$ git add example.txt # добавили его в staged

$ git status # проверили статус
Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
        new file:   example.txt

$ git restore --staged example.txt
$ git status # проверили статус

Untracked files:
  (use "git add <file>..." to include in what will be committed)
        example.txt

no changes added to commit (use "git add" and/or "git commit -a")
# файл example.txt из staged вернулся обратно в untracked 
```

__«Откатить» коммит — git reset --hard <commit hash >__  

Иногда нужно «откатить» то, что уже было закоммичено, то есть вернуть состояние репозитория к более раннему. Для этого используют команду git reset --hard <commit hash> (от англ. reset  — «сброс», «обнуление» и hard — «суровый»).
```
$ git log --oneline # хеш можно найти в истории
7b972f5 (HEAD -> master) style: добавить комментарии, расставить отступы
b576d89 feat: добавить массив Expenses и цикл для добавления трат # вот сюда и вернёмся
4b58962 refactor: разделить analyzeExpenses() на countSum() и saveExpenses()

$ git reset --hard b576d89
# теперь мы на этом коммите
HEAD is now at b576d89 feat: добавить массив Expenses и цикл для добавления трат 
```
__«Откатить» изменения, которые не попали ни в staging, ни в коммит, — git restore <file >__  
ожет быть так, что вы случайно изменили файл, который не планировали. Теперь он отображается в Changes not staged for commit (modified). Чтобы вернуть всё «как было», можно выполнить команду git restore <file>.

*Итог:*
* Команда git restore --staged <file> переведёт файл из staged обратно в modified или untracked.
* Команда git reset --hard <commit hash> «откатит» историю до коммита с хешем <hash>. Более поздние коммиты потеряются!
* Команда git restore <file> «откатит» изменения в файле до последней сохранённой (в коммите или в staging) версии.